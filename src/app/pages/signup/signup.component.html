<form
	[formGroup]="userData"
	(ngSubmit)="onSubmit()"
	action="flex flex-col w-1/3 mx-auto mt-20 p-4 rounded border bg-slate-600 gap-5"
>
	<h1 class="text-center">Sign Up form</h1>
	<div class="flex flex-col">
		<label for="username" class="text-slate-400 text-sm">Username</label>
		<input
			required
			formControlName="username"
			type="text"
			placeholder="Username"
			id="username"
			class="input"
		/>
	</div>

  <div *ngIf="userData.controls['username'].invalid && (userData.controls['username'].dirty || userData.controls['username'].touched)" class="text-red-500 text-xs mt-2">
    <div *ngIf="userData.controls['username'].hasError('required')">Username is required</div>
    <div *ngIf="userData.controls['username'].hasError('minLength')">Username must be at least 5 characters</div>
  </div>

	<div class="flex flex-col">
		<label for="email" class="text-slate-400 text-sm">E-mail</label>
		<input
			required
			formControlName="email"
			type="email"
			placeholder="E-mail"
			id="email"
			class="input"
		/>
	</div>

  <div *ngIf="userData.controls['email'].invalid && (userData.controls['email'].dirty || userData.controls['email'].touched)" class="text-red-500 text-xs mt-2">
    <div *ngIf="userData.controls['email'].hasError('required')">Email is required</div>
    <div *ngIf="userData.controls['email'].hasError('email')">Email must be a valid email address</div>
  </div>

	<div class="flex flex-col">
		<label for="password" class="text-slate-400 text-sm">Password</label>
		<input
			required
			formControlName="password"
			type="password"
			placeholder="Password"
			id="password"
			class="input"
		/>
	</div>
	<div class="flex flex-col">
		<label for="confirm-password" class="text-slate-400 text-sm">
			Confirm password
		</label>
		<input
			required
			formControlName="confirmPassword"
			type="password"
			placeholder="Confirm password"
			id="confirm-password"
			class="input"
		/>
	</div>

  <div *ngIf="(userData.controls['password'].invalid || userData.controls['confirmPassword'].invalid) && (userData.controls['password'].dirty || userData.controls['password'].touched) || (userData.controls['confirmPassword'].dirty || userData.controls['confirmPassword'].touched)" class="text-red-500 text-xs mt-2">
    <div *ngIf="userData.controls['password'].hasError('required')">Password is required</div>
    <div *ngIf="userData.controls['confirmPassword'].hasError('required')">Confirm password is required</div>
    <div *ngIf="userData.controls['password'].hasError('minLength') || userData.controls['confirmPassword'].hasError('minLength')">Password or/and confirm password must be at least 5 characters</div>
    <div *ngIf="userData.controls['confirmPassword'].hasError('passwordsNotMatch') || userData.controls['password'].hasError('passwordsNotMatch')">Passwords do not match.</div>
  </div>

	<div class="flex items-center gap-4 mt-5 justify-end">
		<button [disabled]="!userData.valid" class="btn btn-green">Confirm</button>
		<button class="btn btn-red">Cancel</button>
	</div>
</form>
